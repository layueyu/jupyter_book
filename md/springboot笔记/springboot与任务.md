# springboot与任务

## 异步任务

1. 直接在程序入口类上声明注解@EnableAsync。
2. 调用也简单，在由Spring管理的对象的方法上标注注解@Async，显式调用即可生效。
3. 可参见《线程池.md》使用

## 定时任务

- 提供了异步执行任务调度的方式，提供TaskExecutor、TaskScheduler接口

- 两个注解：@EnableScheduling（开启定时任务） @Scheduled

- cron 表达式

  | 字段 | 允许值                | 允许特殊字符 |
  | ---- | --------------------- | ------------ |
  | 秒   | 0-59                  | ,-*/         |
  | 分   | 0-59                  | ,-*1         |
  | 小时 | 0-23                  | ,-*/         |
  | 日期 | 1-31                  | ,-*?/LWC     |
  | 月份 | 1-12                  | ,-*/         |
  | 星期 | 0-1或SUN-SAT 0,7是SUN | ,-*?/LC#     |

   

  | 特殊字符 | 代表含义                   |
  | -------- | -------------------------- |
  | ,        | 枚举                       |
  | -        | 区间                       |
  | *        | 任意                       |
  | /        | 步长                       |
  | ?        | 日/星期冲突匹配            |
  | L        | 最后                       |
  | W        | 工作日                     |
  | C        | 和calendar联系后计算过的值 |
  | #        | 星期，4#2，第二个星期三    |




