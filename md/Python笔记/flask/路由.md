# 路由

#### 查看所有路由

- `app.url_map`

#### 限制访问方式

- `@app.route('/sample', methods=['GET', 'POST'])`

#### 使用 url_for 进行反解析

- `url_for('函数名')`

#### 动态路由

- demo

  ```python
  @app.route('/user/<int:id>')
  def hello_itcast(id):
      return 'hello itcast %d' %id
  ```

- 内置转换器

  | 类型   | 说明                       |
  | ------ | -------------------------- |
  | string | 默认处理方式               |
  | int    | 接受整数                   |
  | float  | 接受浮点数                 |
  | path   | 和默认的相似，但也接受斜线 |

- 自定义转换器

  ```python
  from flask import Flask
  from werkzeug.routing import BaseConverter
  
  class Regex_url(BaseConverter):
      def __init__(self,url_map,*args):
          super(Regex_url,self).__init__(url_map)
          self.regex = args[0]
  
  app = Flask(__name__)
  app.url_map.converters['re'] = Regex_url
  
  @app.route('/user/<re("[a-z]{3}"):id>')
  def hello_itcast(id):
      return 'hello %s' %id
  ```
